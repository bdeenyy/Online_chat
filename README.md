# Online_chat

Состаит из 2-х модулей Server и Client.
## Модуль Server
В свою очередь состоит классов:
## Server
При запуске сервера создаётся объект класса Server, способный принимать подключение от других пользователей по сети. Сервер хранит список подключенных юзеров в ArrayList. При получении сообщения от одного из пользователей сервер в цикле перебирает список участников чата и отправляет сообщение каждому из них.
## ClientHandler
Каждый подключившийся к системе юзер обратаывается в отдельном потоке, реализованном в классе ClientHandler. Этот класс первым сообщением принимает от пользователя его имя и записывает его в соответствующее поле класса, которое далее используется при получении сообщений от пользователя. Далее в цикле считываются сообщения клиента и отправляются другим участникам чата. Если клиент пришлёт сообщение exit, то он будет удалён из чата, в другие пользователи получает сообщение о том, что пользователь вышел.
## Settings
Класс хранит в себе путь к папке приложения на жёстком диске. При первом запуске (если файл с настройками не был создан вручную) программа автоматически создаст файл настроек и запишет в него порт, определённый по умолчанию. Если при запуске программы файл настроек уже существует, то программа прочитает порт из него и будет его использоваться в работе.
## Logger
Класс создаёт папку в разделе "Мои документы", куда помещает file.log. Далее в файл записывается время запуска сервера, имена вошедших клиентов, кол-во участников чата, сообщения клиентов и т.д. При написании логгера использован шаблон singleton. Метод записи логов синхронизирован, что делает логгер потокобезопасным. Также, как дополнительная опция, логгер выводит на экран всё, что происходит в сервере.


## Модуль Client
В свою очередь состоит классов:
## Client
Создаёт объект класса, который подключается к серверу и отправляет на него сообщения. Приём сообщений от сервера реализован в отдельном потоке AnswerThread.
## AnswerThread
Отдельный поток, который прослушивает сервер.
## Settings
Реализован по тому же принципу, что и сервеный класс, с небольшим дополнением: получением хоста. Хост и порт также используются по умолчанию, если только пользователь не изменит их самостоятельно в файле settings.txt
## Logger
Реализован по тому же принципу, что и логгер сервера. Путь сохранения файла отличается от серверного, поэтому если запустить два модуля одновременно на одной машине, то в "Мои документы" появится две папки: одна серверная, а другая - клиентская.